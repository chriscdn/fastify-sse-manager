exports.Client=/*#__PURE__*/function(){function e(e){this.eventSource=void 0,this._callbacks=void 0,this.onOpenBound=void 0,this.onErrorBound=void 0,this.closeBound=void 0,this.eventSource=new EventSource(e),this.onOpenBound=this.onOpen.bind(this),this.onErrorBound=this.onError.bind(this),this.closeBound=this.close.bind(this),this.eventSource.addEventListener("open",this.onOpenBound),this.eventSource.addEventListener("error",this.onErrorBound),this.eventSource.addEventListener("close",this.closeBound),this._callbacks={}}var n=e.prototype;return n.onOpen=function(e){},n.onError=function(e){},n.close=function(){var e;this.eventSource&&(this.eventSource.removeEventListener("open",this.onOpenBound),this.eventSource.removeEventListener("error",this.onErrorBound),this.eventSource.removeEventListener("close",this.closeBound),this.removeAllEventListener(),null==(e=this.eventSource)||e.close(),this.eventSource=null,this._callbacks={},this.eventSource=null)},n.addEventListener=function(e,n){var t,o=function(e){var t=e.type,o=JSON.parse(e.data);n({type:t,data:o})};this.removeEventListener(e),this._callbacks[e]=o,null==(t=this.eventSource)||t.addEventListener(e,o)},n.removeEventListener=function(e){var n,t=this._callbacks[e];t&&(null==(n=this.eventSource)||n.removeEventListener(e,t),delete this._callbacks[e])},n.removeAllEventListener=function(){var e=this;Object.keys(this._callbacks).forEach(function(n){return e.removeEventListener(n)})},e}();
//# sourceMappingURL=client.cjs.map
