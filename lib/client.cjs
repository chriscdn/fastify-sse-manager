exports.Client=/*#__PURE__*/function(){function e(e){this.path=void 0,this.eventSource=void 0,this._callbacks=void 0,this.path=e,this.eventSource=new EventSource(e),this.eventSource.addEventListener("open",this.onOpen.bind(this)),this.eventSource.addEventListener("error",this.onError.bind(this)),this.eventSource.addEventListener("close",this.close.bind(this)),this._callbacks={}}var t=e.prototype;return t.onOpen=function(e){},t.onError=function(e){},t.close=function(){var e;null==(e=this.eventSource)||e.close(),this.eventSource=null,this._callbacks={}},t.addEventListener=function(e,t){var n,i=function(e){var n=e.type,i=JSON.parse(e.data);t({type:n,data:i})};this.removeEventListener(e),this._callbacks[e]=i,null==(n=this.eventSource)||n.addEventListener(e,i)},t.removeEventListener=function(e){var t,n=this._callbacks[e];n&&(null==(t=this.eventSource)||t.removeEventListener(e,n),delete this._callbacks[e])},e}();
//# sourceMappingURL=client.cjs.map
